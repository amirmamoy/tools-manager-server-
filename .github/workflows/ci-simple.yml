name: Simple CI Check

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  basic-checks:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Check script exists
      run: |
        echo "ğŸ“ Checking files..."
        ls -la
        test -f "server-manager.sh" && echo "âœ… server-manager.sh found" || echo "âŒ server-manager.sh missing"
    
    - name: Validate script
      run: |
        echo "ğŸ” Validating script..."
        # Check if file is executable
        if [ -x "server-manager.sh" ]; then
          echo "âœ… Script is executable"
        else
          echo "âš ï¸ Script is not executable, but that's OK for CI"
        fi
        
        # Check shebang
        if head -1 server-manager.sh | grep -q '#!/bin/bash'; then
          echo "âœ… Shebang is correct"
        else
          echo "âŒ Invalid shebang"
          exit 1
        fi
        
        # Simple syntax check
        if bash -n server-manager.sh; then
          echo "âœ… Bash syntax is valid"
        else
          echo "âŒ Bash syntax error"
          exit 1
        fi
        
        echo "ğŸ‰ All basic checks passed!"
